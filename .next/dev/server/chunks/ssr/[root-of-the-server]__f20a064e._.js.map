{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/jc/Documents/Projects/menu-app/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient, type CookieOptions } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        get(name: string) {\n          return cookieStore.get(name)?.value\n        },\n        set(name: string, value: string, options: CookieOptions) {\n          try {\n            cookieStore.set({ name, value, ...options })\n          } catch (error) {\n            // Handle cookies in server components\n          }\n        },\n        remove(name: string, options: CookieOptions) {\n          try {\n            cookieStore.set({ name, value: '', ...options })\n          } catch (error) {\n            // Handle cookies in server components\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,kLAAO;IAEjC,OAAO,IAAA,uOAAkB,sUAGvB;QACE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAsB;gBACrD,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM;wBAAO,GAAG,OAAO;oBAAC;gBAC5C,EAAE,OAAO,OAAO;gBACd,sCAAsC;gBACxC;YACF;YACA,QAAO,IAAY,EAAE,OAAsB;gBACzC,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM,OAAO;wBAAI,GAAG,OAAO;oBAAC;gBAChD,EAAE,OAAO,OAAO;gBACd,sCAAsC;gBACxC;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/jc/Documents/Projects/menu-app/components/dashboard/StatsCards.tsx"],"sourcesContent":["// components/dashboard/StatsCards.tsx\nimport { ShoppingBag, Layers, DollarSign, Star } from \"lucide-react\";\n\ninterface Stats {\n  totalProducts: number;\n  totalCategories: number;\n  averagePrice: number;\n  popularProducts: number;\n  categoryBreakdown: Record<string, number>;\n}\n\ninterface StatsCardsProps {\n  stats: Stats;\n}\n\nexport default function StatsCards({ stats }: StatsCardsProps) {\n  const cards = [\n    {\n      icon: ShoppingBag,\n      label: \"Total Productos\",\n      value: stats.totalProducts,\n      color: \"#8B7355\",\n      bgColor: \"#FAF8F5\",\n    },\n    {\n      icon: Layers,\n      label: \"Categor√≠as\",\n      value: stats.totalCategories,\n      color: \"#C17853\",\n      bgColor: \"#FFF5F0\",\n    },\n    {\n      icon: DollarSign,\n      label: \"Precio Promedio\",\n      value: `$${stats.averagePrice}`,\n      color: \"#4CAF50\",\n      bgColor: \"#E8F5E9\",\n    },\n    {\n      icon: Star,\n      label: \"Productos Populares\",\n      value: stats.popularProducts,\n      color: \"#FF9800\",\n      bgColor: \"#FFF3E0\",\n    },\n  ];\n\n  return (\n    <>\n      <style>{`\n        .stats-section {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n          gap: 20px;\n        }\n\n        .stat-card {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          box-shadow: 0 2px 8px rgba(45, 36, 24, 0.06);\n          transition: all 200ms ease;\n          border: 1px solid transparent;\n        }\n\n        .stat-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(45, 36, 24, 0.12);\n          border-color: #E8DCC4;\n        }\n\n        .stat-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 16px;\n        }\n\n        .stat-icon-wrapper {\n          width: 48px;\n          height: 48px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: transform 200ms ease;\n        }\n\n        .stat-card:hover .stat-icon-wrapper {\n          transform: scale(1.05);\n        }\n\n        .stat-label {\n          font-size: 13px;\n          font-weight: 600;\n          color: #7A6A56;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .stat-value {\n          font-size: 32px;\n          font-weight: 700;\n          color: #2D2418;\n          letter-spacing: -0.02em;\n          font-variant-numeric: tabular-nums;\n        }\n\n        .categories-breakdown {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          box-shadow: 0 2px 8px rgba(45, 36, 24, 0.06);\n          border: 1px solid #E8DCC4;\n        }\n\n        .breakdown-title {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2D2418;\n          margin-bottom: 16px;\n        }\n\n        .breakdown-list {\n          display: grid;\n          gap: 12px;\n        }\n\n        .breakdown-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px;\n          background: #FAF8F5;\n          border-radius: 8px;\n          transition: background 150ms ease;\n        }\n\n        .breakdown-item:hover {\n          background: #F5EFE6;\n        }\n\n        .breakdown-category {\n          font-size: 14px;\n          font-weight: 500;\n          color: #2D2418;\n        }\n\n        .breakdown-count {\n          font-size: 14px;\n          font-weight: 700;\n          color: #8B7355;\n          padding: 4px 12px;\n          background: white;\n          border-radius: 12px;\n        }\n\n        .breakdown-empty {\n          text-align: center;\n          padding: 32px;\n          color: #7A6A56;\n          font-size: 14px;\n        }\n\n        @media (max-width: 640px) {\n          .stats-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .stat-value {\n            font-size: 28px;\n          }\n        }\n      `}</style>\n\n      <section className=\"stats-section\">\n        <div className=\"stats-grid\">\n          {cards.map((card) => {\n            const Icon = card.icon;\n            return (\n              <div key={card.label} className=\"stat-card\">\n                <div className=\"stat-header\">\n                  <span className=\"stat-label\">{card.label}</span>\n                  <div\n                    className=\"stat-icon-wrapper\"\n                    style={{\n                      backgroundColor: card.bgColor,\n                      color: card.color,\n                    }}\n                  >\n                    <Icon size={24} strokeWidth={2.5} />\n                  </div>\n                </div>\n                <div className=\"stat-value\">{card.value}</div>\n              </div>\n            );\n          })}\n        </div>\n\n        {Object.keys(stats.categoryBreakdown).length > 0 && (\n          <div className=\"categories-breakdown\">\n            <h3 className=\"breakdown-title\">Productos por Categor√≠a</h3>\n            <div className=\"breakdown-list\">\n              {Object.entries(stats.categoryBreakdown)\n                .sort(([, a], [, b]) => b - a)\n                .map(([category, count]) => (\n                  <div key={category} className=\"breakdown-item\">\n                    <span className=\"breakdown-category\">{category}</span>\n                    <span className=\"breakdown-count\">{count}</span>\n                  </div>\n                ))}\n            </div>\n          </div>\n        )}\n\n        {Object.keys(stats.categoryBreakdown).length === 0 && (\n          <div className=\"categories-breakdown\">\n            <div className=\"breakdown-empty\">\n              No hay productos en el men√∫ todav√≠a\n            </div>\n          </div>\n        )}\n      </section>\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;;AACtC;AAAA;AAAA;AAAA;;;AAce,SAAS,WAAW,EAAE,KAAK,EAAmB;IAC3D,MAAM,QAAQ;QACZ;YACE,MAAM,4QAAW;YACjB,OAAO;YACP,OAAO,MAAM,aAAa;YAC1B,OAAO;YACP,SAAS;QACX;QACA;YACE,MAAM,yPAAM;YACZ,OAAO;YACP,OAAO,MAAM,eAAe;YAC5B,OAAO;YACP,SAAS;QACX;QACA;YACE,MAAM,yQAAU;YAChB,OAAO;YACP,OAAO,CAAC,CAAC,EAAE,MAAM,YAAY,EAAE;YAC/B,OAAO;YACP,SAAS;QACX;QACA;YACE,MAAM,mPAAI;YACV,OAAO;YACP,OAAO,MAAM,eAAe;YAC5B,OAAO;YACP,SAAS;QACX;KACD;IAED,qBACE;;0BACE,sRAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAkIT,CAAC;;;;;;0BAED,sRAAC;gBAAQ,WAAU;;kCACjB,sRAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC;4BACV,MAAM,OAAO,KAAK,IAAI;4BACtB,qBACE,sRAAC;gCAAqB,WAAU;;kDAC9B,sRAAC;wCAAI,WAAU;;0DACb,sRAAC;gDAAK,WAAU;0DAAc,KAAK,KAAK;;;;;;0DACxC,sRAAC;gDACC,WAAU;gDACV,OAAO;oDACL,iBAAiB,KAAK,OAAO;oDAC7B,OAAO,KAAK,KAAK;gDACnB;0DAEA,cAAA,sRAAC;oDAAK,MAAM;oDAAI,aAAa;;;;;;;;;;;;;;;;;kDAGjC,sRAAC;wCAAI,WAAU;kDAAc,KAAK,KAAK;;;;;;;+BAb/B,KAAK,KAAK;;;;;wBAgBxB;;;;;;oBAGD,OAAO,IAAI,CAAC,MAAM,iBAAiB,EAAE,MAAM,GAAG,mBAC7C,sRAAC;wBAAI,WAAU;;0CACb,sRAAC;gCAAG,WAAU;0CAAkB;;;;;;0CAChC,sRAAC;gCAAI,WAAU;0CACZ,OAAO,OAAO,CAAC,MAAM,iBAAiB,EACpC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,GAAK,IAAI,GAC3B,GAAG,CAAC,CAAC,CAAC,UAAU,MAAM,iBACrB,sRAAC;wCAAmB,WAAU;;0DAC5B,sRAAC;gDAAK,WAAU;0DAAsB;;;;;;0DACtC,sRAAC;gDAAK,WAAU;0DAAmB;;;;;;;uCAF3B;;;;;;;;;;;;;;;;oBASnB,OAAO,IAAI,CAAC,MAAM,iBAAiB,EAAE,MAAM,KAAK,mBAC/C,sRAAC;wBAAI,WAAU;kCACb,cAAA,sRAAC;4BAAI,WAAU;sCAAkB;;;;;;;;;;;;;;;;;;;AAQ7C"}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///Users/jc/Documents/Projects/menu-app/components/dashboard/RecentProducts.tsx"],"sourcesContent":["// components/dashboard/RecentProducts.tsx\nimport { Product } from \"@/types\";\nimport Link from \"next/link\";\nimport { Eye, Edit, Clock } from \"lucide-react\";\n\ninterface RecentProductsProps {\n  products: Product[];\n}\n\nexport default function RecentProducts({ products }: RecentProductsProps) {\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 60) return `Hace ${diffMins} min`;\n    if (diffHours < 24) return `Hace ${diffHours}h`;\n    if (diffDays === 1) return \"Ayer\";\n    if (diffDays < 7) return `Hace ${diffDays} d√≠as`;\n\n    return date.toLocaleDateString(\"es-MX\", {\n      day: \"numeric\",\n      month: \"short\",\n    });\n  };\n\n  return (\n    <>\n      <style>{`\n        .recent-section {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          box-shadow: 0 2px 8px rgba(45, 36, 24, 0.06);\n          border: 1px solid #E8DCC4;\n        }\n\n        .recent-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .recent-title {\n          font-size: 18px;\n          font-weight: 600;\n          color: #2D2418;\n        }\n\n        .view-all-link {\n          font-size: 14px;\n          font-weight: 600;\n          color: #8B7355;\n          text-decoration: none;\n          transition: color 150ms ease;\n        }\n\n        .view-all-link:hover {\n          color: #7A6347;\n          text-decoration: underline;\n        }\n\n        .products-list {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n\n        .product-item {\n          display: grid;\n          grid-template-columns: 60px 1fr auto;\n          gap: 16px;\n          align-items: center;\n          padding: 12px;\n          background: #FAF8F5;\n          border-radius: 8px;\n          transition: all 150ms ease;\n        }\n\n        .product-item:hover {\n          background: #F5EFE6;\n          transform: translateX(4px);\n        }\n\n        .product-image {\n          width: 60px;\n          height: 60px;\n          border-radius: 6px;\n          object-fit: cover;\n          background: #E8DCC4;\n        }\n\n        .product-info {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .product-name {\n          font-size: 15px;\n          font-weight: 600;\n          color: #2D2418;\n          margin-bottom: 4px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .product-meta {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          flex-wrap: wrap;\n        }\n\n        .product-category {\n          font-size: 12px;\n          color: #7A6A56;\n          padding: 2px 8px;\n          background: white;\n          border-radius: 4px;\n        }\n\n        .product-price {\n          font-size: 13px;\n          font-weight: 600;\n          color: #8B7355;\n        }\n\n        .product-date {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 12px;\n          color: #7A6A56;\n        }\n\n        .product-actions {\n          display: flex;\n          gap: 8px;\n        }\n\n        .action-button {\n          width: 32px;\n          height: 32px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border: none;\n          background: white;\n          color: #8B7355;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 150ms ease;\n          text-decoration: none;\n        }\n\n        .action-button:hover {\n          background: #8B7355;\n          color: white;\n          transform: scale(1.05);\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 48px 24px;\n          color: #7A6A56;\n        }\n\n        .empty-icon {\n          font-size: 48px;\n          margin-bottom: 16px;\n          opacity: 0.5;\n        }\n\n        .empty-text {\n          font-size: 15px;\n          margin-bottom: 8px;\n        }\n\n        .empty-subtext {\n          font-size: 13px;\n          opacity: 0.7;\n        }\n\n        @media (max-width: 640px) {\n          .product-item {\n            grid-template-columns: 50px 1fr;\n            gap: 12px;\n          }\n\n          .product-actions {\n            grid-column: 1 / -1;\n            justify-content: flex-end;\n            padding-top: 8px;\n            border-top: 1px solid #E8DCC4;\n            margin-top: 8px;\n          }\n\n          .product-meta {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 4px;\n          }\n        }\n      `}</style>\n\n      <section className=\"recent-section\">\n        <div className=\"recent-header\">\n          <h2 className=\"recent-title\">Productos Recientes</h2>\n          <Link href=\"/dashboard/products\" className=\"view-all-link\">\n            Ver todos ‚Üí\n          </Link>\n        </div>\n\n        {products.length > 0 ? (\n          <div className=\"products-list\">\n            {products.map((product) => (\n              <div key={product.id} className=\"product-item\">\n                <img\n                  src={\n                    product.image_url ||\n                    \"https://placehold.co/120x120/E8DCC4/8B7355?text=Sin+Imagen\"\n                  }\n                  alt={product.name}\n                  className=\"product-image\"\n                />\n                <div className=\"product-info\">\n                  <div className=\"product-name\">{product.name}</div>\n                  <div className=\"product-meta\">\n                    <span className=\"product-category\">{product.category}</span>\n                    <span className=\"product-price\">${product.price} MXN</span>\n                    <span className=\"product-date\">\n                      <Clock size={12} />\n                      {formatDate(product.created_at)}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"product-actions\">\n                  <a\n                    href={`/menu`}\n                    target=\"_blank\"\n                    className=\"action-button\"\n                    title=\"Ver en men√∫\"\n                  >\n                    <Eye size={16} />\n                  </a>\n                  <Link\n                    href={`/dashboard/products/${product.id}/edit`}\n                    className=\"action-button\"\n                    title=\"Editar\"\n                  >\n                    <Edit size={16} />\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"empty-state\">\n            <div className=\"empty-icon\">üì≠</div>\n            <div className=\"empty-text\">No hay productos en el men√∫</div>\n            <div className=\"empty-subtext\">\n              Agrega tu primer producto para comenzar\n            </div>\n          </div>\n        )}\n      </section>\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA,0CAA0C;;;;;;AAE1C;AACA;AAAA;AAAA;;;;AAMe,SAAS,eAAe,EAAE,QAAQ,EAAuB;IACtE,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,MAAM,MAAM,IAAI;QAChB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;QAC3C,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;QACrC,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;QACtC,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;QAErC,IAAI,WAAW,IAAI,OAAO,CAAC,KAAK,EAAE,SAAS,IAAI,CAAC;QAChD,IAAI,YAAY,IAAI,OAAO,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;QAC/C,IAAI,aAAa,GAAG,OAAO;QAC3B,IAAI,WAAW,GAAG,OAAO,CAAC,KAAK,EAAE,SAAS,KAAK,CAAC;QAEhD,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,KAAK;YACL,OAAO;QACT;IACF;IAEA,qBACE;;0BACE,sRAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAiLT,CAAC;;;;;;0BAED,sRAAC;gBAAQ,WAAU;;kCACjB,sRAAC;wBAAI,WAAU;;0CACb,sRAAC;gCAAG,WAAU;0CAAe;;;;;;0CAC7B,sRAAC,kOAAI;gCAAC,MAAK;gCAAsB,WAAU;0CAAgB;;;;;;;;;;;;oBAK5D,SAAS,MAAM,GAAG,kBACjB,sRAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,wBACb,sRAAC;gCAAqB,WAAU;;kDAC9B,sRAAC;wCACC,KACE,QAAQ,SAAS,IACjB;wCAEF,KAAK,QAAQ,IAAI;wCACjB,WAAU;;;;;;kDAEZ,sRAAC;wCAAI,WAAU;;0DACb,sRAAC;gDAAI,WAAU;0DAAgB,QAAQ,IAAI;;;;;;0DAC3C,sRAAC;gDAAI,WAAU;;kEACb,sRAAC;wDAAK,WAAU;kEAAoB,QAAQ,QAAQ;;;;;;kEACpD,sRAAC;wDAAK,WAAU;;4DAAgB;4DAAE,QAAQ,KAAK;4DAAC;;;;;;;kEAChD,sRAAC;wDAAK,WAAU;;0EACd,sRAAC,sPAAK;gEAAC,MAAM;;;;;;4DACZ,WAAW,QAAQ,UAAU;;;;;;;;;;;;;;;;;;;kDAIpC,sRAAC;wCAAI,WAAU;;0DACb,sRAAC;gDACC,MAAM,CAAC,KAAK,CAAC;gDACb,QAAO;gDACP,WAAU;gDACV,OAAM;0DAEN,cAAA,sRAAC,gPAAG;oDAAC,MAAM;;;;;;;;;;;0DAEb,sRAAC,kOAAI;gDACH,MAAM,CAAC,oBAAoB,EAAE,QAAQ,EAAE,CAAC,KAAK,CAAC;gDAC9C,WAAU;gDACV,OAAM;0DAEN,cAAA,sRAAC,4PAAI;oDAAC,MAAM;;;;;;;;;;;;;;;;;;+BAlCR,QAAQ,EAAE;;;;;;;;;6CAyCxB,sRAAC;wBAAI,WAAU;;0CACb,sRAAC;gCAAI,WAAU;0CAAa;;;;;;0CAC5B,sRAAC;gCAAI,WAAU;0CAAa;;;;;;0CAC5B,sRAAC;gCAAI,WAAU;0CAAgB;;;;;;;;;;;;;;;;;;;;AAQ3C"}},
    {"offset": {"line": 808, "column": 0}, "map": {"version":3,"sources":["file:///Users/jc/Documents/Projects/menu-app/app/%28admin%29/dashboard/page.tsx"],"sourcesContent":["// app/(admin)/dashboard/page.tsx\nimport { createClient } from \"@/lib/supabase/server\";\nimport StatsCards from \"@/components/dashboard/StatsCards\";\nimport RecentProducts from \"@/components/dashboard/RecentProducts\";\nimport Link from \"next/link\";\nimport { Plus } from \"lucide-react\";\n\nasync function getDashboardStats() {\n  const supabase = await createClient();\n\n  // Total de productos\n  const { count: totalProducts } = await supabase\n    .from(\"products\")\n    .select(\"*\", { count: \"exact\", head: true });\n\n  // Productos por categor√≠a\n  const { data: products } = await supabase\n    .from(\"products\")\n    .select(\"category, price\");\n\n  const categoryCount = products?.reduce(\n    (acc: Record<string, number>, product) => {\n      acc[product.category] = (acc[product.category] || 0) + 1;\n      return acc;\n    },\n    {}\n  );\n\n  const totalCategories = Object.keys(categoryCount || {}).length;\n\n  // Precio promedio\n  const averagePrice =\n    products && products.length > 0\n      ? products.reduce((sum, product) => sum + Number(product.price), 0) /\n        products.length\n      : 0;\n\n  // Productos populares\n  const { count: popularCount } = await supabase\n    .from(\"products\")\n    .select(\"*\", { count: \"exact\", head: true })\n    .eq(\"is_popular\", true);\n\n  return {\n    totalProducts: totalProducts || 0,\n    totalCategories,\n    averagePrice: Math.round(averagePrice * 100) / 100,\n    popularProducts: popularCount || 0,\n    categoryBreakdown: categoryCount || {},\n  };\n}\n\nasync function getRecentProducts() {\n  const supabase = await createClient();\n\n  const { data } = await supabase\n    .from(\"products\")\n    .select(\"*\")\n    .order(\"created_at\", { ascending: false })\n    .limit(5);\n\n  return data || [];\n}\n\nexport default async function DashboardPage() {\n  const stats = await getDashboardStats();\n  const recentProducts = await getRecentProducts();\n\n  return (\n    <>\n      <style>{`\n        .dashboard-header {\n          margin-bottom: 32px;\n        }\n\n        .dashboard-title-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n          flex-wrap: wrap;\n          gap: 16px;\n        }\n\n        .dashboard-title {\n          font-size: 32px;\n          font-weight: 700;\n          color: #2D2418;\n          letter-spacing: -0.02em;\n        }\n\n        .dashboard-subtitle {\n          font-size: 15px;\n          color: #7A6A56;\n        }\n\n        .add-product-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          font-size: 14px;\n          font-weight: 600;\n          color: white;\n          background: #8B7355;\n          border: none;\n          border-radius: 8px;\n          text-decoration: none;\n          cursor: pointer;\n          transition: all 200ms ease;\n        }\n\n        .add-product-button:hover {\n          background: #7A6347;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(139, 115, 85, 0.3);\n        }\n\n        .dashboard-sections {\n          display: flex;\n          flex-direction: column;\n          gap: 32px;\n        }\n\n        @media (max-width: 768px) {\n          .dashboard-title {\n            font-size: 24px;\n          }\n\n          .dashboard-title-row {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n\n          .add-product-button {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n      `}</style>\n\n      <div className=\"dashboard-header\">\n        <div className=\"dashboard-title-row\">\n          <div>\n            <h1 className=\"dashboard-title\">Dashboard</h1>\n            <p className=\"dashboard-subtitle\">\n              Resumen general del men√∫ digital\n            </p>\n          </div>\n          <Link href=\"/dashboard/products/new\" className=\"add-product-button\">\n            <Plus size={18} />\n            <span>Agregar Producto</span>\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"dashboard-sections\">\n        <StatsCards stats={stats} />\n        <RecentProducts products={recentProducts} />\n      </div>\n    </>\n  );\n}\n\nexport const revalidate = 30;\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;;AACjC;AACA;AACA;AACA;AACA;;;;;;;AAEA,eAAe;IACb,MAAM,WAAW,MAAM,IAAA,iLAAY;IAEnC,qBAAqB;IACrB,MAAM,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,SACpC,IAAI,CAAC,YACL,MAAM,CAAC,KAAK;QAAE,OAAO;QAAS,MAAM;IAAK;IAE5C,0BAA0B;IAC1B,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,SAC9B,IAAI,CAAC,YACL,MAAM,CAAC;IAEV,MAAM,gBAAgB,UAAU,OAC9B,CAAC,KAA6B;QAC5B,GAAG,CAAC,QAAQ,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,QAAQ,CAAC,IAAI,CAAC,IAAI;QACvD,OAAO;IACT,GACA,CAAC;IAGH,MAAM,kBAAkB,OAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG,MAAM;IAE/D,kBAAkB;IAClB,MAAM,eACJ,YAAY,SAAS,MAAM,GAAG,IAC1B,SAAS,MAAM,CAAC,CAAC,KAAK,UAAY,MAAM,OAAO,QAAQ,KAAK,GAAG,KAC/D,SAAS,MAAM,GACf;IAEN,sBAAsB;IACtB,MAAM,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SACnC,IAAI,CAAC,YACL,MAAM,CAAC,KAAK;QAAE,OAAO;QAAS,MAAM;IAAK,GACzC,EAAE,CAAC,cAAc;IAEpB,OAAO;QACL,eAAe,iBAAiB;QAChC;QACA,cAAc,KAAK,KAAK,CAAC,eAAe,OAAO;QAC/C,iBAAiB,gBAAgB;QACjC,mBAAmB,iBAAiB,CAAC;IACvC;AACF;AAEA,eAAe;IACb,MAAM,WAAW,MAAM,IAAA,iLAAY;IAEnC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,YACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM,GACvC,KAAK,CAAC;IAET,OAAO,QAAQ,EAAE;AACnB;AAEe,eAAe;IAC5B,MAAM,QAAQ,MAAM;IACpB,MAAM,iBAAiB,MAAM;IAE7B,qBACE;;0BACE,sRAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAqET,CAAC;;;;;;0BAED,sRAAC;gBAAI,WAAU;0BACb,cAAA,sRAAC;oBAAI,WAAU;;sCACb,sRAAC;;8CACC,sRAAC;oCAAG,WAAU;8CAAkB;;;;;;8CAChC,sRAAC;oCAAE,WAAU;8CAAqB;;;;;;;;;;;;sCAIpC,sRAAC,kOAAI;4BAAC,MAAK;4BAA0B,WAAU;;8CAC7C,sRAAC,mPAAI;oCAAC,MAAM;;;;;;8CACZ,sRAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;0BAKZ,sRAAC;gBAAI,WAAU;;kCACb,sRAAC,yLAAU;wBAAC,OAAO;;;;;;kCACnB,sRAAC,6LAAc;wBAAC,UAAU;;;;;;;;;;;;;;AAIlC;AAEO,MAAM,aAAa"}}]
}